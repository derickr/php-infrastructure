<VirtualHost *:80>
	ServerName {{ item }}.php.net
	ServerAlias {{ item }}.internal.php.net

	ServerAdmin {{ systems_email }}
	Redirect / https://{{ talks_domain }}
</VirtualHost>

<IfModule mod_ssl.c>
<VirtualHost *:443>
	ServerAdmin {{ systems_email }}

	ServerName {{ item }}.php.net
	ServerAlias {{ item }}.internal.php.net
	Redirect / https://{{ talks_domain }}

	# Logging
	ErrorLog ${APACHE_LOG_DIR}/talks-redirect.php.net-error.log
	CustomLog ${APACHE_LOG_DIR}/talks-redirect.php.net-access.log combined

	# TLS Configuration with self-signed certificates
	SSLEngine on
	SSLCertificateFile /etc/ssl/certs/php-self-signed.crt
	SSLCertificateKeyFile /etc/ssl/certs/php-self-signed.key
</VirtualHost>
</IfModule>
